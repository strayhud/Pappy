<%= form_for(@qform) do |f| %>
  <% if @qform.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@qform.errors.count, "error") %> prohibited this qform from being saved:</h2>

      <ul>
      <% @qform.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

      <div class="field">
          <%= f.label "Customer Name:" %>
          <div>
              <%= f.text_field :customer, :class=>"text_input_field" %>
          </div>
      </div>
      <div class="field">
          <%= f.label "Meeting Purpose:" %>
          <div>
          <%= f.text_field :purpose, :class=>"text_input_field" %>
          </div>
      </div>
      <div class="field">
          <%= f.label "Record?" %>
          <%= check_box_tag 'record', 'yes', (@qform.recording!=nil) %>
      </div>

      <div class="field">
          <div class="form_row">
              <label for="platform_names[]">Platform(s):</label>
              <% for attr in Platform.find(:all) do %>
              <%= check_box_tag 'platform_names[]', attr.name, name_in_array?(attr.name,@qform.platform) %>
              <%= attr.name %>
              <% end %>
          </div>
      </div>
      <div class="field">
          <div class="form_row">
              <label for="audience_names[]">Audience:</label>
              <% for attr in Audience.find(:all) do %>
              <%= check_box_tag 'audience_names[]', attr.name, name_in_array?(attr.name,@qform.audience) %>
              <%= attr.name %>
              <% end %>
          </div>
      </div>
      <div class="field">
          <div class="form_row">
              <label for="opportunity_names[]">Opportunity Size: </label>
              <% for attr in Opportunity.find(:all) do %>
              <%= check_box_tag 'opportunity_names[]', attr.name, name_in_array?(attr.name,@qform.opportunity) %>
              <%= attr.name %>
              <% end %>
          </div>
      </div>
      <div class="field">
          <div class="form_row">
              <label for="technology_names[]">Technologies: </label>
              <% for attr in Technology.find(:all) do %>
              <%= check_box_tag 'technology_names[]', attr.name, name_in_array?(attr.name,@qform.technologies) %>
              <%= attr.name %>
              <% end %>
          </div>
      </div>
      <div class="field">
          <%= f.label :description %><br />
          <%= f.text_area :description %>
      </div>
      <div class="actions">
          <%= f.submit "Save" %>
      </div>
<% end %>

